/* Glider JS */

!function(e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():e()}(function(){var a="undefined"!=typeof window?window:this,e=a.Glider=function(e,t){var o=this;if(e._glider)return e._glider;if(o.ele=e,o.ele.classList.add("glider"),(o.ele._glider=o).opt=Object.assign({},{slidesToScroll:1,slidesToShow:1,resizeLock:!0,duration:.5,easing:function(e,t,o,i,r){return i*(t/=r)*t+o}},t),o.animate_id=o.page=o.slide=0,o.arrows={},o._opt=o.opt,o.opt.skipTrack)o.track=o.ele.children[0];else for(o.track=document.createElement("div"),o.ele.appendChild(o.track);1!==o.ele.children.length;)o.track.appendChild(o.ele.children[0]);o.track.classList.add("glider-track"),o.init(),o.resize=o.init.bind(o,!0),o.event(o.ele,"add",{scroll:o.updateControls.bind(o)}),o.event(a,"add",{resize:o.resize})},t=e.prototype;return t.init=function(e,t){var o=this,i=0,r=0;o.slides=o.track.children,[].forEach.call(o.slides,function(e){e.classList.add("glider-slide")}),o.containerWidth=o.ele.clientWidth;var s=o.settingsBreakpoint();if(t=t||s,"auto"===o.opt.slidesToShow||void 0!==o.opt._autoSlide){var l=o.containerWidth/o.opt.itemWidth;o.opt._autoSlide=o.opt.slidesToShow=o.opt.exactWidth?l:Math.floor(l)}"auto"===o.opt.slidesToScroll&&(o.opt.slidesToScroll=Math.floor(o.opt.slidesToShow)),o.itemWidth=o.opt.exactWidth?o.opt.itemWidth:o.containerWidth/o.opt.slidesToShow,[].forEach.call(o.slides,function(e){e.style.height="auto",e.style.width=o.itemWidth+"px",i+=o.itemWidth,r=Math.max(e.offsetHeight,r)}),o.track.style.width=i+"px",o.trackWidth=i,o.isDrag=!1,o.preventClick=!1,o.opt.resizeLock&&o.scrollTo(o.slide*o.itemWidth,0),(s||t)&&(o.bindArrows(),o.buildDots(),o.bindDrag()),o.updateControls(),o.emit(e?"refresh":"loaded")},t.bindDrag=function(){var t=this;t.mouse=t.mouse||t.handleMouse.bind(t);function e(){t.mouseDown=void 0,t.ele.classList.remove("drag"),t.isDrag&&(t.preventClick=!0),t.isDrag=!1}var o={mouseup:e,mouseleave:e,mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.mouseDown=e.clientX,t.ele.classList.add("drag")},mousemove:t.mouse,click:function(e){t.preventClick&&(e.preventDefault(),e.stopPropagation()),t.preventClick=!1}};t.ele.classList.toggle("draggable",!0===t.opt.draggable),t.event(t.ele,"remove",o),t.opt.draggable&&t.event(t.ele,"add",o)},t.buildDots=function(){var e=this;if(e.opt.dots){if("string"==typeof e.opt.dots?e.dots=document.querySelector(e.opt.dots):e.dots=e.opt.dots,e.dots){e.dots.innerHTML="",e.dots.classList.add("glider-dots");for(var t=0;t<Math.ceil(e.slides.length/e.opt.slidesToShow);++t){var o=document.createElement("button");o.dataset.index=t,o.setAttribute("aria-label","Page "+(t+1)),o.className="glider-dot "+(t?"":"active"),e.event(o,"add",{click:e.scrollItem.bind(e,t,!0)}),e.dots.appendChild(o)}}}else e.dots&&(e.dots.innerHTML="")},t.bindArrows=function(){var o=this;o.opt.arrows?["prev","next"].forEach(function(e){var t=o.opt.arrows[e];t&&("string"==typeof t&&(t=document.querySelector(t)),t._func=t._func||o.scrollItem.bind(o,e),o.event(t,"remove",{click:t._func}),o.event(t,"add",{click:t._func}),o.arrows[e]=t)}):Object.keys(o.arrows).forEach(function(e){var t=o.arrows[e];o.event(t,"remove",{click:t._func})})},t.updateControls=function(e){var d=this;e&&!d.opt.scrollPropagate&&e.stopPropagation();var t=d.containerWidth>=d.trackWidth;d.opt.rewind||(d.arrows.prev&&d.arrows.prev.classList.toggle("disabled",d.ele.scrollLeft<=0||t),d.arrows.next&&d.arrows.next.classList.toggle("disabled",Math.ceil(d.ele.scrollLeft+d.containerWidth)>=Math.floor(d.trackWidth)||t)),d.slide=Math.round(d.ele.scrollLeft/d.itemWidth),d.page=Math.round(d.ele.scrollLeft/d.containerWidth);var c=d.slide+Math.floor(Math.floor(d.opt.slidesToShow)/2),h=Math.floor(d.opt.slidesToShow)%2?0:c+1;1===Math.floor(d.opt.slidesToShow)&&(h=0),d.ele.scrollLeft+d.containerWidth>=Math.floor(d.trackWidth)&&(d.page=d.dots?d.dots.children.length-1:0),[].forEach.call(d.slides,function(e,t){var o=e.classList,i=o.contains("visible"),r=d.ele.scrollLeft,s=d.ele.scrollLeft+d.containerWidth,l=d.itemWidth*t,n=l+d.itemWidth;[].forEach.call(o,function(e){/^left|right/.test(e)&&o.remove(e)}),o.toggle("active",d.slide===t),c===t||h&&h===t?o.add("center"):(o.remove("center"),o.add([t<c?"left":"right",Math.abs(t-(t<c?c:h||c))].join("-")));var a=Math.ceil(l)>=r&&Math.floor(n)<=s;o.toggle("visible",a),a!==i&&d.emit("slide-"+(a?"visible":"hidden"),{slide:t})}),d.dots&&[].forEach.call(d.dots.children,function(e,t){e.classList.toggle("active",d.page===t)}),e&&d.opt.scrollLock&&(clearTimeout(d.scrollLock),d.scrollLock=setTimeout(function(){clearTimeout(d.scrollLock),.02<Math.abs(d.ele.scrollLeft/d.itemWidth-d.slide)&&(d.mouseDown||d.trackWidth>d.containerWidth+d.ele.scrollLeft&&d.scrollItem(d.getCurrentSlide()))},d.opt.scrollLockDelay||250))},t.getCurrentSlide=function(){var e=this;return e.round(e.ele.scrollLeft/e.itemWidth)},t.scrollItem=function(e,t,o){o&&o.preventDefault();var i=this,r=e;if(++i.animate_id,!0===t)e*=i.containerWidth,e=Math.round(e/i.itemWidth)*i.itemWidth;else{if("string"==typeof e){var s="prev"===e;if(e=i.opt.slidesToScroll%1||i.opt.slidesToShow%1?i.getCurrentSlide():i.slide,s?e-=i.opt.slidesToScroll:e+=i.opt.slidesToScroll,i.opt.rewind){var l=i.ele.scrollLeft;e=s&&!l?i.slides.length:!s&&l+i.containerWidth>=Math.floor(i.trackWidth)?0:e}}e=Math.max(Math.min(e,i.slides.length),0),i.slide=e,e=i.itemWidth*e}return i.scrollTo(e,i.opt.duration*Math.abs(i.ele.scrollLeft-e),function(){i.updateControls(),i.emit("animated",{value:r,type:"string"==typeof r?"arrow":t?"dot":"slide"})}),!1},t.settingsBreakpoint=function(){var e=this,t=e._opt.responsive;if(t){t.sort(function(e,t){return t.breakpoint-e.breakpoint});for(var o=0;o<t.length;++o){var i=t[o];if(a.innerWidth>=i.breakpoint)return e.breakpoint!==i.breakpoint&&(e.opt=Object.assign({},e._opt,i.settings),e.breakpoint=i.breakpoint,!0)}}var r=0!==e.breakpoint;return e.opt=Object.assign({},e._opt),e.breakpoint=0,r},t.scrollTo=function(t,o,i){var r=this,s=(new Date).getTime(),l=r.animate_id,n=function(){var e=(new Date).getTime()-s;r.ele.scrollLeft=r.ele.scrollLeft+(t-r.ele.scrollLeft)*r.opt.easing(0,e,0,1,o),e<o&&l===r.animate_id?a.requestAnimationFrame(n):(r.ele.scrollLeft=t,i&&i.call(r))};a.requestAnimationFrame(n)},t.removeItem=function(e){var t=this;t.slides.length&&(t.track.removeChild(t.slides[e]),t.refresh(!0),t.emit("remove"))},t.addItem=function(e){this.track.appendChild(e),this.refresh(!0),this.emit("add")},t.handleMouse=function(e){var t=this;t.mouseDown&&(t.isDrag=!0,t.ele.scrollLeft+=(t.mouseDown-e.clientX)*(t.opt.dragVelocity||3.3),t.mouseDown=e.clientX)},t.round=function(e){var t=1/(this.opt.slidesToScroll%1||1);return Math.round(e*t)/t},t.refresh=function(e){this.init(!0,e)},t.setOption=function(t,e){var o=this;o.breakpoint&&!e?o._opt.responsive.forEach(function(e){e.breakpoint===o.breakpoint&&(e.settings=Object.assign({},e.settings,t))}):o._opt=Object.assign({},o._opt,t),o.breakpoint=0,o.settingsBreakpoint()},t.destroy=function(){function e(t){t.removeAttribute("style"),[].forEach.call(t.classList,function(e){/^glider/.test(e)&&t.classList.remove(e)})}var t=this,o=t.ele.cloneNode(!0);o.children[0].outerHTML=o.children[0].innerHTML,e(o),[].forEach.call(o.getElementsByTagName("*"),e),t.ele.parentNode.replaceChild(o,t.ele),t.event(a,"remove",{resize:t.resize}),t.emit("destroy")},t.emit=function(e,t){var o=new a.CustomEvent("glider-"+e,{bubbles:!this.opt.eventPropagate,detail:t});this.ele.dispatchEvent(o)},t.event=function(e,t,o){var i=e[t+"EventListener"].bind(e);Object.keys(o).forEach(function(e){i(e,o[e])})},e});!function(e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():e()}(function(){var a="undefined"!=typeof window?window:this,e=a.Glider=function(e,t){var o=this;if(e._glider)return e._glider;if(o.ele=e,o.ele.classList.add("glider"),(o.ele._glider=o).opt=Object.assign({},{slidesToScroll:1,slidesToShow:1,resizeLock:!0,duration:.5,easing:function(e,t,o,i,r){return i*(t/=r)*t+o}},t),o.animate_id=o.page=o.slide=0,o.arrows={},o._opt=o.opt,o.opt.skipTrack)o.track=o.ele.children[0];else for(o.track=document.createElement("div"),o.ele.appendChild(o.track);1!==o.ele.children.length;)o.track.appendChild(o.ele.children[0]);o.track.classList.add("glider-track"),o.init(),o.resize=o.init.bind(o,!0),o.event(o.ele,"add",{scroll:o.updateControls.bind(o)}),o.event(a,"add",{resize:o.resize})},t=e.prototype;return t.init=function(e,t){var o=this,i=0,r=0;o.slides=o.track.children,[].forEach.call(o.slides,function(e){e.classList.add("glider-slide")}),o.containerWidth=o.ele.clientWidth;var s=o.settingsBreakpoint();if(t=t||s,"auto"===o.opt.slidesToShow||void 0!==o.opt._autoSlide){var l=o.containerWidth/o.opt.itemWidth;o.opt._autoSlide=o.opt.slidesToShow=o.opt.exactWidth?l:Math.floor(l)}"auto"===o.opt.slidesToScroll&&(o.opt.slidesToScroll=Math.floor(o.opt.slidesToShow)),o.itemWidth=o.opt.exactWidth?o.opt.itemWidth:o.containerWidth/o.opt.slidesToShow,[].forEach.call(o.slides,function(e){e.style.height="auto",e.style.width=o.itemWidth+"px",i+=o.itemWidth,r=Math.max(e.offsetHeight,r)}),o.track.style.width=i+"px",o.trackWidth=i,o.isDrag=!1,o.preventClick=!1,o.opt.resizeLock&&o.scrollTo(o.slide*o.itemWidth,0),(s||t)&&(o.bindArrows(),o.buildDots(),o.bindDrag()),o.updateControls(),o.emit(e?"refresh":"loaded")},t.bindDrag=function(){var t=this;t.mouse=t.mouse||t.handleMouse.bind(t);function e(){t.mouseDown=void 0,t.ele.classList.remove("drag"),t.isDrag&&(t.preventClick=!0),t.isDrag=!1}var o={mouseup:e,mouseleave:e,mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.mouseDown=e.clientX,t.ele.classList.add("drag")},mousemove:t.mouse,click:function(e){t.preventClick&&(e.preventDefault(),e.stopPropagation()),t.preventClick=!1}};t.ele.classList.toggle("draggable",!0===t.opt.draggable),t.event(t.ele,"remove",o),t.opt.draggable&&t.event(t.ele,"add",o)},t.buildDots=function(){var e=this;if(e.opt.dots){if("string"==typeof e.opt.dots?e.dots=document.querySelector(e.opt.dots):e.dots=e.opt.dots,e.dots){e.dots.innerHTML="",e.dots.classList.add("glider-dots");for(var t=0;t<Math.ceil(e.slides.length/e.opt.slidesToShow);++t){var o=document.createElement("button");o.dataset.index=t,o.setAttribute("aria-label","Page "+(t+1)),o.className="glider-dot "+(t?"":"active"),e.event(o,"add",{click:e.scrollItem.bind(e,t,!0)}),e.dots.appendChild(o)}}}else e.dots&&(e.dots.innerHTML="")},t.bindArrows=function(){var o=this;o.opt.arrows?["prev","next"].forEach(function(e){var t=o.opt.arrows[e];t&&("string"==typeof t&&(t=document.querySelector(t)),t._func=t._func||o.scrollItem.bind(o,e),o.event(t,"remove",{click:t._func}),o.event(t,"add",{click:t._func}),o.arrows[e]=t)}):Object.keys(o.arrows).forEach(function(e){var t=o.arrows[e];o.event(t,"remove",{click:t._func})})},t.updateControls=function(e){var d=this;e&&!d.opt.scrollPropagate&&e.stopPropagation();var t=d.containerWidth>=d.trackWidth;d.opt.rewind||(d.arrows.prev&&d.arrows.prev.classList.toggle("disabled",d.ele.scrollLeft<=0||t),d.arrows.next&&d.arrows.next.classList.toggle("disabled",Math.ceil(d.ele.scrollLeft+d.containerWidth)>=Math.floor(d.trackWidth)||t)),d.slide=Math.round(d.ele.scrollLeft/d.itemWidth),d.page=Math.round(d.ele.scrollLeft/d.containerWidth);var c=d.slide+Math.floor(Math.floor(d.opt.slidesToShow)/2),h=Math.floor(d.opt.slidesToShow)%2?0:c+1;1===Math.floor(d.opt.slidesToShow)&&(h=0),d.ele.scrollLeft+d.containerWidth>=Math.floor(d.trackWidth)&&(d.page=d.dots?d.dots.children.length-1:0),[].forEach.call(d.slides,function(e,t){var o=e.classList,i=o.contains("visible"),r=d.ele.scrollLeft,s=d.ele.scrollLeft+d.containerWidth,l=d.itemWidth*t,n=l+d.itemWidth;[].forEach.call(o,function(e){/^left|right/.test(e)&&o.remove(e)}),o.toggle("active",d.slide===t),c===t||h&&h===t?o.add("center"):(o.remove("center"),o.add([t<c?"left":"right",Math.abs(t-(t<c?c:h||c))].join("-")));var a=Math.ceil(l)>=r&&Math.floor(n)<=s;o.toggle("visible",a),a!==i&&d.emit("slide-"+(a?"visible":"hidden"),{slide:t})}),d.dots&&[].forEach.call(d.dots.children,function(e,t){e.classList.toggle("active",d.page===t)}),e&&d.opt.scrollLock&&(clearTimeout(d.scrollLock),d.scrollLock=setTimeout(function(){clearTimeout(d.scrollLock),.02<Math.abs(d.ele.scrollLeft/d.itemWidth-d.slide)&&(d.mouseDown||d.trackWidth>d.containerWidth+d.ele.scrollLeft&&d.scrollItem(d.getCurrentSlide()))},d.opt.scrollLockDelay||250))},t.getCurrentSlide=function(){var e=this;return e.round(e.ele.scrollLeft/e.itemWidth)},t.scrollItem=function(e,t,o){o&&o.preventDefault();var i=this,r=e;if(++i.animate_id,!0===t)e*=i.containerWidth,e=Math.round(e/i.itemWidth)*i.itemWidth;else{if("string"==typeof e){var s="prev"===e;if(e=i.opt.slidesToScroll%1||i.opt.slidesToShow%1?i.getCurrentSlide():i.slide,s?e-=i.opt.slidesToScroll:e+=i.opt.slidesToScroll,i.opt.rewind){var l=i.ele.scrollLeft;e=s&&!l?i.slides.length:!s&&l+i.containerWidth>=Math.floor(i.trackWidth)?0:e}}e=Math.max(Math.min(e,i.slides.length),0),i.slide=e,e=i.itemWidth*e}return i.scrollTo(e,i.opt.duration*Math.abs(i.ele.scrollLeft-e),function(){i.updateControls(),i.emit("animated",{value:r,type:"string"==typeof r?"arrow":t?"dot":"slide"})}),!1},t.settingsBreakpoint=function(){var e=this,t=e._opt.responsive;if(t){t.sort(function(e,t){return t.breakpoint-e.breakpoint});for(var o=0;o<t.length;++o){var i=t[o];if(a.innerWidth>=i.breakpoint)return e.breakpoint!==i.breakpoint&&(e.opt=Object.assign({},e._opt,i.settings),e.breakpoint=i.breakpoint,!0)}}var r=0!==e.breakpoint;return e.opt=Object.assign({},e._opt),e.breakpoint=0,r},t.scrollTo=function(t,o,i){var r=this,s=(new Date).getTime(),l=r.animate_id,n=function(){var e=(new Date).getTime()-s;r.ele.scrollLeft=r.ele.scrollLeft+(t-r.ele.scrollLeft)*r.opt.easing(0,e,0,1,o),e<o&&l===r.animate_id?a.requestAnimationFrame(n):(r.ele.scrollLeft=t,i&&i.call(r))};a.requestAnimationFrame(n)},t.removeItem=function(e){var t=this;t.slides.length&&(t.track.removeChild(t.slides[e]),t.refresh(!0),t.emit("remove"))},t.addItem=function(e){this.track.appendChild(e),this.refresh(!0),this.emit("add")},t.handleMouse=function(e){var t=this;t.mouseDown&&(t.isDrag=!0,t.ele.scrollLeft+=(t.mouseDown-e.clientX)*(t.opt.dragVelocity||3.3),t.mouseDown=e.clientX)},t.round=function(e){var t=1/(this.opt.slidesToScroll%1||1);return Math.round(e*t)/t},t.refresh=function(e){this.init(!0,e)},t.setOption=function(t,e){var o=this;o.breakpoint&&!e?o._opt.responsive.forEach(function(e){e.breakpoint===o.breakpoint&&(e.settings=Object.assign({},e.settings,t))}):o._opt=Object.assign({},o._opt,t),o.breakpoint=0,o.settingsBreakpoint()},t.destroy=function(){function e(t){t.removeAttribute("style"),[].forEach.call(t.classList,function(e){/^glider/.test(e)&&t.classList.remove(e)})}var t=this,o=t.ele.cloneNode(!0);o.children[0].outerHTML=o.children[0].innerHTML,e(o),[].forEach.call(o.getElementsByTagName("*"),e),t.ele.parentNode.replaceChild(o,t.ele),t.event(a,"remove",{resize:t.resize}),t.emit("destroy")},t.emit=function(e,t){var o=new a.CustomEvent("glider-"+e,{bubbles:!this.opt.eventPropagate,detail:t});this.ele.dispatchEvent(o)},t.event=function(e,t,o){var i=e[t+"EventListener"].bind(e);Object.keys(o).forEach(function(e){i(e,o[e])})},e});

class carousel {	
	constructor(item='.carousel'){
		var ilen = document.querySelectorAll(item);
		if(ilen.length > 0){
			let ic = 0;
			ilen.forEach(function(item2){



				ic++
				let iparent = item2.parentNode;
				let indicator = item2.getAttribute('indicator') || 'dots';
				let arrows = item2.getAttribute('arrows') || true;
				let slidetoscroll = parseInt(item2.getAttribute('slideToScroll')) || 1;
				let slidetoshow = parseInt(item2.getAttribute('slideToShow')) || 1;
				let indicate = '.indicator';
				let aprev = '.carousel-prev';
				let anext = '.carousel-next';
				let autoslide = parseInt(item2.getAttribute('autoSlide')) || false;


				if(arrows == 'true' || arrows == 'false'){
					arrows = JSON.parse(arrows);
				}
				if(indicator == 'true' || indicator == 'false'){
					indicator = JSON.parse(indicator);
				}


				if(arrows){
					var arrowtmp = '<button aria-label="Previous" class="carousel-prev aprev'+ic+' mdi mdi-chevron-left"></button><button aria-label="Next" class="carousel-next anext'+ic+' mdi mdi-chevron-right"></button>';
					iparent.insertAdjacentHTML('beforeend', arrowtmp);
					aprev = '.aprev'+ic;
					anext = '.anext'+ic;
				}

				if(indicator){
					var indicatortmp = '<div role="tablist" class="indicator indicate'+ic+' '+indicator +'"></div>';
					iparent.insertAdjacentHTML('beforeend', indicatortmp);	
					indicate = '.indicate'+ic;
				}


				var glider = new Glider(item2, {
					  slidesToScroll: slidetoscroll,
				      slidesToShow: slidetoshow,
				      draggable: true,
					  dots: indicate,
					  rewind: true,
					  scrollPropagate: true
					});

					if(arrows){
						glider.setOption({
						  arrows: {
						    prev: aprev,
							next: anext
						  }
						});
					}

if(autoslide > 0){
var isPaused = true;
 let slide = 0
    const slides = glider.slides.length - glider.opt.slidesToShow

    setInterval(() => {
    if(isPaused){
    	// console.log(ic+" = " + glider.slide);
      if (glider.slide === slides) {
        slide = 0
        glider.scrollItem(slide)
      } else {
        slide = slide + slidetoshow;
        glider.scrollItem(slide)
      }
     }
     else {
      	slide = glider.slide;
      } 
    }, autoslide)


	item2.addEventListener('mouseover', (event) => {
		isPaused = false;
	})

	item2.addEventListener('mouseout', (event) => {
		isPaused = true;
	})

}
				
				glider.refresh(true);	

			})
			
		}
	}
}


//* Vanilla Data-tables *//
//https://github.com/AJ-TechSoul/Vanilla-DataTables
//https://codepen.io/Mobius1/pen/rwGyJa
(function(m,q){var u="DataTable";"object"==typeof exports?module.exports=q(u):"function"==typeof define&&define.amd?define([],q(u)):m[u]=q(u)})("undefined"==typeof global?this.window||this.global:global,function(){"use strict";var q=window,u=document,z=u.body,A={perPage:10,perPageSelect:[5,10,15,20,25],sortable:!0,searchable:!0,nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",ellipsisText:"&hellip;",ascText:"\u25B4",descText:"\u25BE",truncatePager:!0,pagerDelta:2,fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}},B=function(T){return"[object Object]"===Object.prototype.toString.call(T)},C=function(T){return Array.isArray(T)},D=function(T){var U=!1;try{U=JSON.parse(T)}catch(V){return!1}return null!==U&&(C(U)||B(U))&&U},E=function(T,U){for(var V in U)if(U.hasOwnProperty(V)){var W=U[V];W&&B(W)?(T[V]=T[V]||{},E(T[V],W)):T[V]=W}return T},F=function(T,U,V){if(B(T))for(var W in T)Object.prototype.hasOwnProperty.call(T,W)&&U.call(V,T[W],W);else for(W=0;W<T.length;W++)U.call(V,T[W],W)},G=function(T,U,V){T.addEventListener(U,V,!1)},H=function(T,U){var V=u.createElement(T);if(U&&"object"==typeof U){for(var W in U)"html"===W?V.innerHTML=U[W]:V.setAttribute(W,U[W])}return V},I=function(T,U){if(T instanceof NodeList)F(T,function(V){I(V,U)});else if(U)for(;T.hasChildNodes();)T.removeChild(T.firstChild);else T.innerHTML=""},J=function(T,U,V){return H("li",{class:T,html:"<a href=\"#\" data-page=\""+U+"\">"+V+"</a>"})},K={add:function(T,U){T.classList?T.classList.add(U):!K.contains(T,U)&&(T.className=T.className.trim()+" "+U)},remove:function(T,U){T.classList?T.classList.remove(U):K.contains(T,U)&&(T.className=T.className.replace(new RegExp("(^|\\s)"+U.split(" ").join("|")+"(\\s|$)","gi")," "))},contains:function(T,U){if(T)return T.classList?T.classList.contains(U):!!T.className&&!!T.className.match(new RegExp("(\\s|^)"+U+"(\\s|$)"))}},L=function(T,U){var V,W;1===U?(V=0,W=T.length):-1==U&&(V=T.length-1,W=-1);for(var X=!0;X;){X=!1;for(var Y=V;Y!=W;Y+=U)if(T[Y+U]&&T[Y].value>T[Y+U].value){var Z=T[Y],$=T[Y+U];T[Y]=$,T[Y+U]=Z,X=!0}}return T},M=function(T,U,V,W,X){W=W||2;var Y,Z=2*W,$=U-W,_=U+W,aa=[],ba=[];U<4-W+Z?_=3+Z:U>V-(3-W+Z)&&($=V-(2+Z));for(var ca=1;ca<=V;ca++)if(1==ca||ca==V||ca>=$&&ca<=_){var da=T[ca-1];K.remove(da,"active"),aa.push(da)}return F(aa,function(ea){var fa=ea.children[0].getAttribute("data-page");if(Y){var ga=Y.children[0].getAttribute("data-page");if(2==fa-ga)ba.push(T[ga]);else if(1!=fa-ga){var ha=H("li",{class:"ellipsis",html:"<a href=\"#\">"+X+"</a>"});ba.push(ha)}}ba.push(ea),Y=ea}),ba},N=function(T){var U=!1,V=!1;if(T=T||this.options.data,T.headings){U=H("thead");var W=H("tr");F(T.headings,function(X){var Y=H("th",{html:X});W.appendChild(Y)}),U.appendChild(W)}T.data&&T.data.length&&(V=H("tbody"),F(T.data,function(X){if(T.headings&&T.headings.length!==X.length)throw new Error("The number of rows do not match the number of headings.");var Y=H("tr");F(X,function(Z){var $=H("td",{html:Z});Y.appendChild($)}),V.appendChild(Y)})),U&&(null!==this.table.tHead&&this.table.removeChild(this.table.tHead),this.table.appendChild(U)),V&&(this.table.tBodies.length&&this.table.removeChild(this.table.tBodies[0]),this.table.appendChild(V))},O=function(T,U){var V=!1;return U&&(V="ISO_8601"===U?moment(T,moment.ISO_8601).format("YYYYMMDD"):"RFC_2822"===U?moment(T,"ddd, MM MMM YYYY HH:mm:ss ZZ").format("YYYYMMDD"):"MYSQL"===U?moment(T,"YYYY-MM-DD hh:mm:ss").format("YYYYMMDD"):"UNIX"===U?moment(T).unix():moment(T,U).format("YYYYMMDD")),V},P=function(T){return this.dt=T,this};P.prototype.swap=function(T){if(T.length&&2===T.length){var U=[];F(this.dt.headings,function(Y,Z){U.push(Z)});var V=T[0],W=T[1],X=U[W];U[W]=U[V],U[V]=X,this.order(U)}},P.prototype.order=function(T){var U,V,W,X,Y,Z,$,_=[[],[],[],[]],aa=this.dt;F(T,function(ba,ca){Y=aa.headings[ba],Z="false"!==Y.getAttribute("data-sortable"),U=Y.cloneNode(!0),U.originalCellIndex=ca,U.sortable=Z,_[0].push(U),0>aa.hiddenColumns.indexOf(ba)&&(V=Y.cloneNode(!0),V.originalCellIndex=ca,V.sortable=Z,_[1].push(V))}),F(aa.data,function(ba,ca){W=ba.cloneNode(),X=ba.cloneNode(),W.dataIndex=X.dataIndex=ca,null!==ba.searchIndex&&void 0!==ba.searchIndex&&(W.searchIndex=X.searchIndex=ba.searchIndex),F(T,function(da){$=ba.cells[da].cloneNode(!0),$.data=ba.cells[da].data,W.appendChild($),0>aa.hiddenColumns.indexOf(da)&&($=ba.cells[da].cloneNode(!0),$.data=ba.cells[da].data,X.appendChild($))}),_[2].push(W),_[3].push(X)}),aa.headings=_[0],aa.activeHeadings=_[1],aa.data=_[2],aa.activeRows=_[3],aa.update()},P.prototype.hide=function(T){if(T.length){var U=this.dt;F(T,function(V){0>U.hiddenColumns.indexOf(V)&&U.hiddenColumns.push(V)}),this.rebuild()}},P.prototype.show=function(T){if(T.length){var U,V=this.dt;F(T,function(W){U=V.hiddenColumns.indexOf(W),-1<U&&V.hiddenColumns.splice(U,1)}),this.rebuild()}},P.prototype.visible=function(T){var U,V=this.dt;return T=T||V.headings.map(function(W){return W.originalCellIndex}),isNaN(T)?C(T)&&(U=[],F(T,function(W){U.push(0>V.hiddenColumns.indexOf(W))})):U=0>V.hiddenColumns.indexOf(T),U},P.prototype.add=function(T){var V,U=this,W=document.createElement("th");return this.dt.headings.length?void(this.dt.hiddenHeader?W.innerHTML="":T.heading.nodeName?W.appendChild(T.heading):W.innerHTML=T.heading,this.dt.headings.push(W),F(this.dt.data,function(X,Y){T.data[Y]&&(V=document.createElement("td"),T.data[Y].nodeName?V.appendChild(T.data[Y]):V.innerHTML=T.data[Y],V.data=V.innerHTML,T.render&&(V.innerHTML=T.render.call(U,V.data,V,X)),X.appendChild(V))}),T.type&&W.setAttribute("data-type",T.type),T.format&&W.setAttribute("data-format",T.format),T.hasOwnProperty("sortable")&&(W.sortable=T.sortable,W.setAttribute("data-sortable",!0===T.sortable?"true":"false")),this.rebuild(),this.dt.renderHeader()):(this.dt.insert({headings:[T.heading],data:T.data.map(function(X){return[X]})}),void this.rebuild())},P.prototype.remove=function(T){C(T)?(T.sort(function(U,V){return V-U}),F(T,function(U){this.remove(U)},this)):(this.dt.headings.splice(T,1),F(this.dt.data,function(U){U.removeChild(U.cells[T])})),this.rebuild()},P.prototype.sort=function(T,U,V){var W=this.dt;if(W.hasHeadings&&(1>T||T>W.activeHeadings.length))return!1;W.sorting=!0,--T;var X,Y=W.data,Z=[],$=[],_=0,aa=0,ba=W.activeHeadings[T];T=ba.originalCellIndex,F(Y,function(fa){var ga=fa.cells[T],ha=ga.hasAttribute("data-content")?ga.getAttribute("data-content"):ga.data,ia=ha.replace(/(\$|\,|\s|%)/g,"");if("date"===ba.getAttribute("data-type")&&q.moment){var ja=!1,ka=ba.hasAttribute("data-format");ka&&(ja=ba.getAttribute("data-format")),ia=O(ha,ja)}parseFloat(ia)==ia?$[aa++]={value:+ia,row:fa}:Z[_++]={value:ha,row:fa}});var ca,da;K.contains(ba,"asc")||"asc"==U?(ca=L(Z,-1),da=L($,-1),X="descending",K.remove(ba,"asc"),K.add(ba,"desc")):(ca=L($,1),da=L(Z,1),X="ascending",K.remove(ba,"desc"),K.add(ba,"asc")),W.lastTh&&ba!=W.lastTh&&(K.remove(W.lastTh,"desc"),K.remove(W.lastTh,"asc")),W.lastTh=ba,Y=ca.concat(da),W.data=[];var ea=[];F(Y,function(fa,ga){W.data.push(fa.row),null!==fa.row.searchIndex&&void 0!==fa.row.searchIndex&&ea.push(ga)},W),W.searchData=ea,this.rebuild(),W.update(),V||W.emit("datatable.sort",T,X)},P.prototype.rebuild=function(){var T,U,V,W,X=this.dt,Y=[];X.activeRows=[],X.activeHeadings=[],F(X.headings,function(Z,$){Z.originalCellIndex=$,Z.sortable="false"!==Z.getAttribute("data-sortable"),0>X.hiddenColumns.indexOf($)&&X.activeHeadings.push(Z)},this),F(X.data,function(Z,$){T=Z.cloneNode(),U=Z.cloneNode(),T.dataIndex=U.dataIndex=$,null!==Z.searchIndex&&void 0!==Z.searchIndex&&(T.searchIndex=U.searchIndex=Z.searchIndex),F(Z.cells,function(_){V=_.cloneNode(!0),V.data=_.data,T.appendChild(V),0>X.hiddenColumns.indexOf(_.cellIndex)&&(W=_.cloneNode(!0),W.data=_.data,U.appendChild(W))}),Y.push(T),X.activeRows.push(U)}),X.data=Y,X.update()};var Q=function(T,U){return this.dt=T,this.rows=U,this};Q.prototype.build=function(T){var U,V=H("tr"),W=this.dt.headings;return W.length||(W=T.map(function(){return""})),F(W,function(X,Y){U=H("td"),T[Y]||T[Y].length||(T[Y]=""),U.innerHTML=T[Y],U.data=T[Y],V.appendChild(U)}),V},Q.prototype.render=function(T){return T},Q.prototype.add=function(T){if(C(T)){var U=this.dt;C(T[0])?F(T,function(V){U.data.push(this.build(V))},this):U.data.push(this.build(T)),U.data.length&&(U.hasRows=!0),this.update(),U.columns().rebuild()}},Q.prototype.remove=function(T){var U=this.dt;C(T)?(T.sort(function(V,W){return W-V}),F(T,function(V){U.data.splice(V,1)})):U.data.splice(T,1),this.update(),U.columns().rebuild()},Q.prototype.update=function(){F(this.dt.data,function(T,U){T.dataIndex=U})};var R=function(T,U){if(this.initialized=!1,this.options=E(A,U),"string"==typeof T&&(T=document.querySelector(T)),this.initialLayout=T.innerHTML,this.initialSortable=this.options.sortable,this.options.header||(this.options.sortable=!1),null!==T.tHead||this.options.data&&(!this.options.data||this.options.data.headings)||(this.options.sortable=!1),T.tBodies.length&&!T.tBodies[0].rows.length&&this.options.data&&!this.options.data.data)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.table=T,this.init()};R.extend=function(T,U){"function"==typeof U?R.prototype[T]=U:R[T]=U};var S=R.prototype;return S.init=function(T){if(this.initialized||K.contains(this.table,"dataTable-table"))return!1;var U=this;this.options=E(this.options,T||{}),this.isIE=!!/(msie|trident)/i.test(navigator.userAgent),this.currentPage=1,this.onFirstPage=!0,this.hiddenColumns=[],this.columnRenderers=[],this.selectedColumns=[],this.render(),setTimeout(function(){U.emit("datatable.init"),U.initialized=!0,U.options.plugins&&F(U.options.plugins,function(V,W){U[W]&&"function"==typeof U[W]&&(U[W]=U[W](V,{each:F,extend:E,classList:K,createElement:H}),V.enabled&&U[W].init&&"function"==typeof U[W].init&&U[W].init())})},10)},S.render=function(T){if(T)return"page"===T?this.renderPage():"pager"===T?this.renderPager():"header"===T?this.renderHeader():void 0,!1;var U=this,V=U.options,W="";if(V.data&&N.call(U),V.ajax){var X=V.ajax,Y=new XMLHttpRequest,Z=function(ia){U.emit("datatable.ajax.progress",ia,Y)},$=function(ia){if(4===Y.readyState)if(U.emit("datatable.ajax.loaded",ia,Y),200===Y.status){var ja={};ja.data=X.load?X.load.call(U,Y):Y.responseText,ja.type="json",X.content&&X.content.type&&(ja.type=X.content.type,ja=E(ja,X.content)),U.import(ja),U.setColumns(!0),U.emit("datatable.ajax.success",ia,Y)}else U.emit("datatable.ajax.error",ia,Y)},_=function(ia){U.emit("datatable.ajax.error",ia,Y)},aa=function(ia){U.emit("datatable.ajax.abort",ia,Y)};G(Y,"progress",Z),G(Y,"load",$),G(Y,"error",_),G(Y,"abort",aa),U.emit("datatable.ajax.loading",Y),Y.open("GET","string"==typeof X?V.ajax:V.ajax.url),Y.send()}if(U.body=U.table.tBodies[0],U.head=U.table.tHead,U.foot=U.table.tFoot,U.body||(U.body=H("tbody"),U.table.appendChild(U.body)),U.hasRows=0<U.body.rows.length,!U.head){var ba=H("thead"),ca=H("tr");U.hasRows&&(F(U.body.rows[0].cells,function(){ca.appendChild(H("th"))}),ba.appendChild(ca)),U.head=ba,U.table.insertBefore(U.head,U.body),U.hiddenHeader=!V.ajax}if(U.headings=[],U.hasHeadings=0<U.head.rows.length,U.hasHeadings&&(U.header=U.head.rows[0],U.headings=[].slice.call(U.header.cells)),!V.header&&U.head&&U.table.removeChild(U.table.tHead),V.footer?U.head&&!U.foot&&(U.foot=H("tfoot",{html:U.head.innerHTML}),U.table.appendChild(U.foot)):U.foot&&U.table.removeChild(U.table.tFoot),U.wrapper=H("div",{class:"dataTable-wrapper dataTable-loading"}),W+="<div class='dataTable-top'>",W+=V.layout.top,W+="</div>",W+="<div class='dataTable-container'></div>",W+="<div class='dataTable-bottom'>",W+=V.layout.bottom,W+="</div>",W=W.replace("{info}","<div class='dataTable-info'></div>"),V.perPageSelect){var da="<div class='dataTable-dropdown'><label>";da+=V.labels.perPage,da+="</label></div>";var ea=H("select",{class:"dataTable-selector"});F(V.perPageSelect,function(ia){var ja=ia===V.perPage,ka=new Option(ia,ia,ja,ja);ea.add(ka)}),da=da.replace("{select}",ea.outerHTML),W=W.replace("{select}",da)}else W=W.replace("{select}","");if(V.searchable){var fa="<div class='dataTable-search'><input class='dataTable-input' placeholder='"+V.labels.placeholder+"' type='text'></div>";W=W.replace("{search}",fa)}else W=W.replace("{search}","");U.hasHeadings&&this.render("header"),K.add(U.table,"dataTable-table");var ga=H("div",{class:"dataTable-pagination"}),ha=H("ul");ga.appendChild(ha),W=W.replace(/\{pager\}/g,ga.outerHTML),U.wrapper.innerHTML=W,U.container=U.wrapper.querySelector(".dataTable-container"),U.pagers=U.wrapper.querySelectorAll(".dataTable-pagination"),U.label=U.wrapper.querySelector(".dataTable-info"),U.table.parentNode.replaceChild(U.wrapper,U.table),U.container.appendChild(U.table),U.rect=U.table.getBoundingClientRect(),U.data=[].slice.call(U.body.rows),U.activeRows=U.data.slice(),U.activeHeadings=U.headings.slice(),U.update(),V.ajax||U.setColumns(),this.fixHeight(),U.fixColumns(),V.header||K.add(U.wrapper,"no-header"),V.footer||K.add(U.wrapper,"no-footer"),V.sortable&&K.add(U.wrapper,"sortable"),V.searchable&&K.add(U.wrapper,"searchable"),V.fixedHeight&&K.add(U.wrapper,"fixed-height"),V.fixedColumns&&K.add(U.wrapper,"fixed-columns"),U.bindEvents()},S.renderPage=function(){if(this.hasRows&&this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);var T=this.currentPage-1,U=u.createDocumentFragment();this.hasHeadings&&(I(this.header,this.isIE),F(this.activeHeadings,function($){this.header.appendChild($)},this)),F(this.pages[T],function($){U.appendChild(this.rows().render($))},this),this.clear(U),this.onFirstPage=1===this.currentPage,this.onLastPage=this.currentPage===this.lastPage}else this.clear();var Y,V=0,W=0,X=0;if(this.totalPages&&(V=this.currentPage-1,W=V*this.options.perPage,X=W+this.pages[V].length,++W,Y=this.searching?this.searchData.length:this.data.length),this.label&&this.options.labels.info.length){var Z=this.options.labels.info.replace("{start}",W).replace("{end}",X).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",Y);this.label.innerHTML=Y?Z:""}1==this.currentPage&&this.fixHeight()},S.renderPager=function(){if(I(this.pagers,this.isIE),1<this.totalPages){var T="pager",U=u.createDocumentFragment(),V=this.onFirstPage?1:this.currentPage-1,W=this.onlastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&U.appendChild(J(T,1,this.options.firstText)),this.options.nextPrev&&U.appendChild(J(T,V,this.options.prevText));var X=this.links;this.options.truncatePager&&(X=M(this.links,this.currentPage,this.pages.length,this.options.pagerDelta,this.options.ellipsisText)),K.add(this.links[this.currentPage-1],"active"),F(X,function(Y){K.remove(Y,"active"),U.appendChild(Y)}),K.add(this.links[this.currentPage-1],"active"),this.options.nextPrev&&U.appendChild(J(T,W,this.options.nextText)),this.options.firstLast&&U.appendChild(J(T,this.totalPages,this.options.lastText)),F(this.pagers,function(Y){Y.appendChild(U.cloneNode(!0))})}},S.renderHeader=function(){var T=this;T.labels=[],T.headings&&T.headings.length&&F(T.headings,function(U,V){if(T.labels[V]=U.textContent,K.contains(U.firstElementChild,"dataTable-sorter")&&(U.innerHTML=U.firstElementChild.innerHTML),U.sortable="false"!==U.getAttribute("data-sortable"),U.originalCellIndex=V,T.options.sortable&&U.sortable){var W=H("a",{href:"#",class:"dataTable-sorter",html:U.innerHTML});U.innerHTML="",U.setAttribute("data-sortable",""),U.appendChild(W)}}),T.fixColumns()},S.bindEvents=function(){var T=this,U=T.options;if(U.perPageSelect){var V=T.wrapper.querySelector(".dataTable-selector");V&&G(V,"change",function(){U.perPage=parseInt(this.value,10),T.update(),T.fixHeight(),T.emit("datatable.perpage",U.perPage)})}U.searchable&&(T.input=T.wrapper.querySelector(".dataTable-input"),T.input&&G(T.input,"keyup",function(){T.search(this.value)})),G(T.wrapper,"click",function(W){var X=W.target;"a"===X.nodeName.toLowerCase()&&(X.hasAttribute("data-page")?(T.page(X.getAttribute("data-page")),W.preventDefault()):U.sortable&&K.contains(X,"dataTable-sorter")&&"false"!=X.parentNode.getAttribute("data-sortable")&&(T.columns().sort(T.activeHeadings.indexOf(X.parentNode)+1),W.preventDefault()))})},S.setColumns=function(T){var U=this;T||F(U.data,function(V){F(V.cells,function(W){W.data=W.innerHTML})}),U.options.columns&&U.headings.length&&F(U.options.columns,function(V){C(V.select)||(V.select=[V.select]),V.hasOwnProperty("render")&&"function"==typeof V.render&&(U.selectedColumns=U.selectedColumns.concat(V.select),U.columnRenderers.push({columns:V.select,renderer:V.render})),F(V.select,function(W){var X=U.headings[W];V.type&&X.setAttribute("data-type",V.type),V.format&&X.setAttribute("data-format",V.format),V.hasOwnProperty("sortable")&&X.setAttribute("data-sortable",V.sortable),V.hasOwnProperty("hidden")&&!1!==V.hidden&&U.columns().hide(W),V.hasOwnProperty("sort")&&1===V.select.length&&U.columns().sort(V.select[0]+1,V.sort,!0)})}),U.hasRows&&(F(U.data,function(V,W){V.dataIndex=W,F(V.cells,function(X){X.data=X.innerHTML})}),U.selectedColumns.length&&F(U.data,function(V){F(V.cells,function(W,X){-1<U.selectedColumns.indexOf(X)&&F(U.columnRenderers,function(Y){-1<Y.columns.indexOf(X)&&(W.innerHTML=Y.renderer.call(U,W.data,W,V))})})}),U.columns().rebuild()),U.render("header")},S.destroy=function(){this.table.innerHTML=this.initialLayout,K.remove(this.table,"dataTable-table"),this.wrapper.parentNode.replaceChild(this.table,this.wrapper),this.initialized=!1},S.update=function(){K.remove(this.wrapper,"dataTable-empty"),this.paginate(this),this.render("page"),this.links=[];for(var U,T=this.pages.length;T--;)U=T+1,this.links[T]=J(0===T?"active":"",U,U);this.sorting=!1,this.render("pager"),this.rows().update(),this.emit("datatable.update")},S.paginate=function(){var T=this.options.perPage,U=this.activeRows;return this.searching&&(U=[],F(this.searchData,function(V){U.push(this.activeRows[V])},this)),this.pages=U.map(function(V,W){return 0==W%T?U.slice(W,W+T):null}).filter(function(V){return V}),this.totalPages=this.lastPage=this.pages.length,this.totalPages},S.fixColumns=function(){if(this.options.fixedColumns&&this.activeHeadings&&this.activeHeadings.length){var T,U=!1;if(this.columnWidths=[],this.table.tHead)F(this.activeHeadings,function(Y){Y.style.width=""},this),F(this.activeHeadings,function(Y,Z){var $=Y.offsetWidth,_=100*($/this.rect.width);Y.style.width=_+"%",this.columnWidths[Z]=$},this);else{T=[],U=H("thead");var V=H("tr"),W=this.table.tBodies[0].rows[0].cells;F(W,function(){var Y=H("th");V.appendChild(Y),T.push(Y)}),U.appendChild(V),this.table.insertBefore(U,this.body);var X=[];F(T,function(Y,Z){var $=Y.offsetWidth,_=100*($/this.rect.width);X.push(_),this.columnWidths[Z]=$},this),F(this.data,function(Y){F(Y.cells,function(Z,$){this.columns(Z.cellIndex).visible()&&(Z.style.width=X[$]+"%")},this)},this),this.table.removeChild(U)}}},S.fixHeight=function(){this.options.fixedHeight&&(this.container.style.height=null,this.rect=this.container.getBoundingClientRect(),this.container.style.height=this.rect.height+"px")},S.search=function(T){if(!this.hasRows)return!1;var U=this;return T=T.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],T.length?void(this.clear(),F(this.data,function(V,W){var X=-1<this.searchData.indexOf(V),Y=T.split(" ").reduce(function(Z,$){for(var _=!1,aa=null,ba=null,ca=0;ca<V.cells.length;ca++)if(aa=V.cells[ca],ba=aa.hasAttribute("data-content")?aa.getAttribute("data-content"):aa.textContent,-1<ba.toLowerCase().indexOf($)&&U.columns(aa.cellIndex).visible()){_=!0;break}return Z&&_},!0);Y&&!X?(V.searchIndex=W,this.searchData.push(W)):V.searchIndex=null},this),K.add(this.wrapper,"search-results"),U.searchData.length?U.update():(K.remove(U.wrapper,"search-results"),U.setMessage(U.options.labels.noRows)),this.emit("datatable.search",T,this.searchData)):(this.searching=!1,this.update(),this.emit("datatable.search",T,this.searchData),K.remove(this.wrapper,"search-results"),!1)},S.page=function(T){return T!=this.currentPage&&(isNaN(T)||(this.currentPage=parseInt(T,10)),T>this.pages.length||0>T?!1:void(this.render("page"),this.render("pager"),this.emit("datatable.page",T)))},S.sortColumn=function(T,U){this.columns().sort(T,U)},S.insert=function(T){var U=this,V=[];if(B(T)){if(T.headings&&!U.hasHeadings&&!U.hasRows){var X,W=H("tr");F(T.headings,function(Y){X=H("th",{html:Y}),W.appendChild(X)}),U.head.appendChild(W),U.header=W,U.headings=[].slice.call(W.cells),U.hasHeadings=!0,U.options.sortable=U.initialSortable,U.render("header")}T.data&&C(T.data)&&(V=T.data)}else C(T)&&F(T,function(Y){var Z=[];F(Y,function($,_){var aa=U.labels.indexOf(_);-1<aa&&(Z[aa]=$)}),V.push(Z)});V.length&&(U.rows().add(V),U.hasRows=!0),U.update(),U.fixColumns()},S.refresh=function(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")},S.clear=function(T){this.body&&I(this.body,this.isIE);var U=this.body;if(this.body||(U=this.table),T){if("string"==typeof T){var V=u.createDocumentFragment();V.innerHTML=T}U.appendChild(T)}},S.export=function(T){if(!this.hasHeadings&&!this.hasRows)return!1;var X,Y,Z,$,U=this.activeHeadings,V=[],W=[];if(!B(T))return!1;var aa=E({download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4},T);if(aa.type){if(("txt"===aa.type||"csv"===aa.type)&&(V[0]=this.header),!aa.selection)V=V.concat(this.activeRows);else if(!isNaN(aa.selection))V=V.concat(this.pages[aa.selection-1]);else if(C(aa.selection))for(X=0;X<aa.selection.length;X++)V=V.concat(this.pages[aa.selection[X]-1]);if(V.length){if("txt"===aa.type||"csv"===aa.type){for(Z="",X=0;X<V.length;X++){for(Y=0;Y<V[X].cells.length;Y++)if(0>aa.skipColumn.indexOf(U[Y].originalCellIndex)&&this.columns(U[Y].originalCellIndex).visible()){var ba=V[X].cells[Y].textContent;ba=ba.trim(),ba=ba.replace(/\s{2,}/g," "),ba=ba.replace(/\n/g,"  "),ba=ba.replace(/"/g,"\"\""),-1<ba.indexOf(",")&&(ba="\""+ba+"\""),Z+=ba+aa.columnDelimiter}Z=Z.trim().substring(0,Z.length-1),Z+=aa.lineDelimiter}Z=Z.trim().substring(0,Z.length-1),aa.download&&(Z="data:text/csv;charset=utf-8,"+Z)}else if("sql"===aa.type){for(Z="INSERT INTO `"+aa.tableName+"` (",X=0;X<U.length;X++)0>aa.skipColumn.indexOf(U[X].originalCellIndex)&&this.columns(U[X].originalCellIndex).visible()&&(Z+="`"+U[X].textContent+"`,");for(Z=Z.trim().substring(0,Z.length-1),Z+=") VALUES ",X=0;X<V.length;X++){for(Z+="(",Y=0;Y<V[X].cells.length;Y++)0>aa.skipColumn.indexOf(U[Y].originalCellIndex)&&this.columns(U[Y].originalCellIndex).visible()&&(Z+="\""+V[X].cells[Y].textContent+"\",");Z=Z.trim().substring(0,Z.length-1),Z+="),"}Z=Z.trim().substring(0,Z.length-1),Z+=";",aa.download&&(Z="data:application/sql;charset=utf-8,"+Z)}else if("json"===aa.type){for(Y=0;Y<V.length;Y++)for(W[Y]=W[Y]||{},X=0;X<U.length;X++)0>aa.skipColumn.indexOf(U[X].originalCellIndex)&&this.columns(U[X].originalCellIndex).visible()&&(W[Y][U[X].textContent]=V[Y].cells[X].textContent);Z=JSON.stringify(W,aa.replacer,aa.space),aa.download&&(Z="data:application/json;charset=utf-8,"+Z)}return aa.download&&(aa.filename=aa.filename||"datatable_export",aa.filename+="."+aa.type,Z=encodeURI(Z),$=document.createElement("a"),$.href=Z,$.download=aa.filename,z.appendChild($),$.click(),z.removeChild($)),Z}}return!1},S.import=function(T){var U=!1;if(!B(T))return!1;if(T=E({lineDelimiter:"\n",columnDelimiter:","},T),T.data.length||B(T.data)){if("csv"===T.type){U={data:[]};var W=T.data.split(T.lineDelimiter);W.length&&(T.headings&&(U.headings=W[0].split(T.columnDelimiter),W.shift()),F(W,function(Y,Z){U.data[Z]=[];var $=Y.split(T.columnDelimiter);$.length&&F($,function(_){U.data[Z].push(_)})}))}else if("json"===T.type){var X=D(T.data);X?(U={headings:[],data:[]},F(X,function(Y,Z){U.data[Z]=[],F(Y,function($,_){0>U.headings.indexOf(_)&&U.headings.push(_),U.data[Z].push($)})})):console.warn("That's not valid JSON!")}B(T.data)&&(U=T.data),U&&this.insert(U)}return!1},S.print=function(){var T=this.activeHeadings,U=this.activeRows,V=H("table"),W=H("thead"),X=H("tbody"),Y=H("tr");F(T,function($){Y.appendChild(H("th",{html:$.textContent}))}),W.appendChild(Y),F(U,function($){var _=H("tr");F($.cells,function(aa){_.appendChild(H("td",{html:aa.textContent}))}),X.appendChild(_)}),V.appendChild(W),V.appendChild(X);var Z=q.open();Z.document.body.appendChild(V),Z.print()},S.setMessage=function(T){var U=1;this.hasRows&&(U=this.data[0].cells.length),K.add(this.wrapper,"dataTable-empty"),this.clear(H("tr",{html:"<td class=\"dataTables-empty\" colspan=\""+U+"\">"+T+"</td>"}))},S.columns=function(T){return new P(this,T)},S.rows=function(T){return new Q(this,T)},S.on=function(T,U){this.events=this.events||{},this.events[T]=this.events[T]||[],this.events[T].push(U)},S.off=function(T,U){this.events=this.events||{},!1==T in this.events||this.events[T].splice(this.events[T].indexOf(U),1)},S.emit=function(T){if(this.events=this.events||{},!1!=T in this.events)for(var U=0;U<this.events[T].length;U++)this.events[T][U].apply(this,Array.prototype.slice.call(arguments,1))},R});

class dataTables{
	constructor(element=".dt",option=""){
		var ti = 0;
		if(document.querySelectorAll(element).length > 0){
			document.querySelectorAll(element).forEach(function(dtbl){
				var dtables = new DataTable(dtbl, option);
				var downloadoption = dtbl.getAttribute('download') || false;
				if(downloadoption){
				var exporttmp = "<button class='btn btn-dropdown'> <span>Download</span><ul class='dropdown dt-export'><li data-type='csv'>CSV</li><li data-type='sql'>SQL</li><li data-type='json'>JSON</li></ul></button>";
			//	console.log(dtbl.parentNode.parentNode);
				dtbl.parentNode.parentNode.querySelector('.dataTable-top').insertAdjacentHTML('beforeend', exporttmp);

				setTimeout(function(){

					dtbl.parentNode.parentNode.querySelectorAll('.dt-export li').forEach(function(exportbtn){
					exportbtn.addEventListener('click',function(e){
						var type = exportbtn.dataset.type;
						var data = {
								type: type,
								filename: "download-report-" + type,
							};
							
							if ( type === "csv" ) {
								data.columnDelimiter = ",";
							}
							
							dtables.export(data);
						})
					})
				},1000)


				}
			})
			
		}
		// return dtables;
	}
}



/* SELECT-EXTENDED */
/*
 Selectr 2.4.13
 http://mobius.ovh/docs/selectr

 Released under the MIT license
*/
(function(g,k){"function"===typeof define&&define.amd?define([],k):"object"===typeof exports?module.exports=k("Selectr"):g.Selectr=k("Selectr")})(this,function(g){function k(a,c){return a.hasOwnProperty(c)&&(!0===a[c]||a[c].length)}function n(a,c,e){a.parentNode?a.parentNode.parentNode||c.appendChild(a.parentNode):c.appendChild(a);b.removeClass(a,"excluded");e||(a.innerHTML=a.textContent)}var l=function(){};l.prototype={on:function(a,c){this._events=this._events||{};this._events[a]=this._events[a]||
[];this._events[a].push(c)},off:function(a,c){this._events=this._events||{};!1!==a in this._events&&this._events[a].splice(this._events[a].indexOf(c),1)},emit:function(a){this._events=this._events||{};if(!1!==a in this._events)for(var c=0;c<this._events[a].length;c++)this._events[a][c].apply(this,Array.prototype.slice.call(arguments,1))}};l.mixin=function(a){for(var c=["on","off","emit"],b=0;b<c.length;b++)"function"===typeof a?a.prototype[c[b]]=l.prototype[c[b]]:a[c[b]]=l.prototype[c[b]];return a};
var b={extend:function(a,c){for(var e in c)if(c.hasOwnProperty(e)){var d=c[e];d&&"[object Object]"===Object.prototype.toString.call(d)?(a[e]=a[e]||{},b.extend(a[e],d)):a[e]=d}return a},each:function(a,c,b){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.call(b,d,a[d],a);else{d=0;for(var e=a.length;d<e;d++)c.call(b,d,a[d],a)}},createElement:function(a,c){var b=document,d=b.createElement(a);if(c&&"[object Object]"===Object.prototype.toString.call(c))for(var f in c)if(f in
d)d[f]=c[f];else if("html"===f)d.innerHTML=c[f];else if("text"===f){var h=b.createTextNode(c[f]);d.appendChild(h)}else d.setAttribute(f,c[f]);return d},hasClass:function(a,b){if(a)return a.classList?a.classList.contains(b):!!a.className&&!!a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},addClass:function(a,c){b.hasClass(a,c)||(a.classList?a.classList.add(c):a.className=a.className.trim()+" "+c)},removeClass:function(a,c){b.hasClass(a,c)&&(a.classList?a.classList.remove(c):a.className=a.className.replace(new RegExp("(^|\\s)"+
c.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(a,c){return a&&a!==document.body&&(c(a)?a:b.closest(a.parentNode,c))},isInt:function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a},debounce:function(a,b,e){var d;return function(){var c=this,h=arguments,g=e&&!d;clearTimeout(d);d=setTimeout(function(){d=null;e||a.apply(c,h)},b);g&&a.apply(c,h)}},rect:function(a,b){var c=window,d=a.getBoundingClientRect(),f=b?c.pageXOffset:0;c=b?c.pageYOffset:0;return{bottom:d.bottom+c,height:d.height,
left:d.left+f,right:d.right+f,top:d.top+c,width:d.width}},includes:function(a,b){return-1<a.indexOf(b)},startsWith:function(a,b){return a.substr(0,b.length)===b},truncate:function(a){for(;a.firstChild;)a.removeChild(a.firstChild)}},p=function(){if(this.items.length){var a=document.createDocumentFragment();if(this.config.pagination){var c=this.pages.slice(0,this.pageIndex);b.each(c,function(c,d){b.each(d,function(d,b){n(b,a,this.customOption)},this)},this)}else b.each(this.items,function(b,d){n(d,
a,this.customOption)},this);a.childElementCount&&(b.removeClass(this.items[this.navIndex],"active"),this.navIndex=(a.querySelector(".selectr-option.selected")||a.querySelector(".selectr-option")).idx,b.addClass(this.items[this.navIndex],"active"));this.tree.appendChild(a)}},t=function(a){this.container.contains(a.target)||!this.opened&&!b.hasClass(this.container,"notice")||this.close()},m=function(a,c){var e=this.customOption?this.config.renderOption(c||a):a.textContent;e=b.createElement("li",{"class":"selectr-option",
html:e,role:"treeitem","aria-selected":!1});e.idx=a.idx;this.items.push(e);a.defaultSelected&&this.defaultSelected.push(a.idx);a.disabled&&(e.disabled=!0,b.addClass(e,"disabled"));return e},u=function(){this.requiresPagination=this.config.pagination&&0<this.config.pagination;k(this.config,"width")&&(b.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":b.includes(this.config.width,"%")&&(this.width=this.config.width));this.container=b.createElement("div",
{"class":"selectr-container"});this.config.customClass&&b.addClass(this.container,this.config.customClass);this.mobileDevice?b.addClass(this.container,"selectr-mobile"):b.addClass(this.container,"selectr-desktop");this.el.tabIndex=-1;this.config.nativeDropdown||this.mobileDevice?b.addClass(this.el,"selectr-visible"):b.addClass(this.el,"selectr-hidden");this.selected=b.createElement("div",{"class":"selectr-selected",disabled:this.disabled,tabIndex:0,"aria-expanded":!1});this.label=b.createElement(this.el.multiple?
"ul":"span",{"class":"selectr-label"});var a=b.createElement("div",{"class":"selectr-options-container"});this.tree=b.createElement("ul",{"class":"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1});this.notice=b.createElement("div",{"class":"selectr-notice"});this.el.setAttribute("aria-hidden",!0);this.disabled&&(this.el.disabled=!0);this.el.multiple&&(b.addClass(this.label,"selectr-tags"),b.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),
this.selectedIndexes=this.getSelectedProperties("idx"));this.selected.appendChild(this.label);this.config.clearable&&(this.selectClear=b.createElement("button",{"class":"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),b.addClass(this.container,"clearable"));if(this.config.taggable){var c=b.createElement("li",{"class":"input-tag"});this.input=b.createElement("input",{"class":"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",
autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"});c.appendChild(this.input);this.label.appendChild(c);b.addClass(this.container,"taggable");this.tagSeperators=[","];this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))}this.config.searchable&&(this.input=b.createElement("input",{"class":"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=
b.createElement("button",{"class":"selectr-input-clear",type:"button"}),this.inputContainer=b.createElement("div",{"class":"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),a.appendChild(this.inputContainer));a.appendChild(this.notice);a.appendChild(this.tree);this.items=[];this.options=[];this.el.options.length&&(this.options=[].slice.call(this.el.options));var e=!1,d=0;this.el.children.length&&b.each(this.el.children,function(a,
c){"OPTGROUP"===c.nodeName?(e=b.createElement("ul",{"class":"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+c.label+"</li>"}),b.each(c.children,function(a,b){b.idx=d;e.appendChild(m.call(this,b,e));d++},this)):(c.idx=d,m.call(this,c),d++)},this);if(this.config.data&&Array.isArray(this.config.data)){this.data=[];var f=!1,h;e=!1;d=0;b.each(this.config.data,function(a,c){k(c,"children")?(f=b.createElement("optgroup",{label:c.text}),e=b.createElement("ul",{"class":"selectr-optgroup",
role:"group",html:"<li class='selectr-optgroup--label'>"+c.text+"</li>"}),b.each(c.children,function(a,b){h=new Option(b.text,b.value,!1,b.hasOwnProperty("selected")&&!0===b.selected);h.disabled=k(b,"disabled");this.options.push(h);f.appendChild(h);h.idx=d;e.appendChild(m.call(this,h,b));this.data[d]=b;d++},this),this.el.appendChild(f)):(h=new Option(c.text,c.value,!1,c.hasOwnProperty("selected")&&!0===c.selected),h.disabled=k(c,"disabled"),this.options.push(h),h.idx=d,m.call(this,h,c),this.data[d]=
c,d++)},this)}this.setSelected(!0);for(var g=this.navIndex=0;g<this.items.length;g++)if(c=this.items[g],!b.hasClass(c,"disabled")){b.addClass(c,"active");this.navIndex=g;break}this.requiresPagination&&(this.pageIndex=1,this.paginate());this.container.appendChild(this.selected);this.container.appendChild(a);this.placeEl=b.createElement("div",{"class":"selectr-placeholder"});this.setPlaceholder();this.selected.appendChild(this.placeEl);this.disabled&&this.disable();this.el.parentNode.insertBefore(this.container,
this.el);this.container.appendChild(this.el)},v=function(a){a=a||window.event;if(this.items.length&&this.opened&&b.includes([13,38,40],a.which)){a.preventDefault();if(13===a.which)return this.noResults||this.config.taggable&&0<this.input.value.length?!1:this.change(this.navIndex);var c=this.items[this.navIndex],e=this.navIndex;switch(a.which){case 38:var d=0;0<this.navIndex&&this.navIndex--;break;case 40:d=1,this.navIndex<this.items.length-1&&this.navIndex++}for(this.navigating=!0;b.hasClass(this.items[this.navIndex],
"disabled")||b.hasClass(this.items[this.navIndex],"excluded");){if(0<this.navIndex&&this.navIndex<this.items.length-1)d?this.navIndex++:this.navIndex--;else{this.navIndex=e;break}if(this.searching)if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}else if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}a=b.rect(this.items[this.navIndex]);d?(0===this.navIndex?this.tree.scrollTop=0:a.top+a.height>this.optsRect.top+
this.optsRect.height&&(this.tree.scrollTop+=a.top+a.height-(this.optsRect.top+this.optsRect.height)),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&r.call(this)):0===this.navIndex?this.tree.scrollTop=0:0>a.top-this.optsRect.top&&(this.tree.scrollTop+=a.top-this.optsRect.top);c&&b.removeClass(c,"active");b.addClass(this.items[this.navIndex],"active")}else this.navigating=!1},w=function(a){var c=this,e=document.createDocumentFragment(),d=this.options[a.idx],f=this.data?this.data[a.idx]:
d;f=this.customSelected?this.config.renderSelection(f):d.textContent;f=b.createElement("li",{"class":"selectr-tag",html:f});var h=b.createElement("button",{"class":"selectr-tag-remove",type:"button"});f.appendChild(h);f.idx=a.idx;f.tag=d.value;this.tags.push(f);if(this.config.sortSelected){a=this.tags.slice();var g=function(a,b){a.replace(/(\d+)|(\D+)/g,function(a,d,c){b.push([d||Infinity,c||""])})};a.sort(function(a,b){var d=[],e=[];if(!0===c.config.sortSelected){var f=a.tag;var h=b.tag}else"text"===
c.config.sortSelected&&(f=a.textContent,h=b.textContent);g(f,d);for(g(h,e);d.length&&e.length;)if(f=d.shift(),h=e.shift(),f=f[0]-h[0]||f[1].localeCompare(h[1]))return f;return d.length-e.length});b.each(a,function(a,b){e.appendChild(b)});this.label.innerHTML=""}else e.appendChild(f);this.config.taggable?this.label.insertBefore(e,this.input.parentNode):this.label.appendChild(e)},x=function(a){var c=!1;b.each(this.tags,function(b,d){d.idx===a.idx&&(c=d)},this);c&&(this.label.removeChild(c),this.tags.splice(this.tags.indexOf(c),
1))},r=function(){var a=this.tree;if(a.scrollTop>=a.scrollHeight-a.offsetHeight&&this.pageIndex<this.pages.length){var c=document.createDocumentFragment();b.each(this.pages[this.pageIndex],function(a,b){n(b,c,this.customOption)},this);a.appendChild(c);this.pageIndex++;this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length})}},q=function(){if(this.config.searchable||this.config.taggable)this.input.value=null,this.searching=!1,this.config.searchable&&
b.removeClass(this.inputContainer,"active"),b.hasClass(this.container,"notice")&&(b.removeClass(this.container,"notice"),b.addClass(this.container,"open"),this.input.focus()),b.each(this.items,function(a,c){b.removeClass(c,"excluded");this.customOption||(c.innerHTML=c.textContent)},this)};g=function(a,b){this.defaultConfig={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,nativeKeyboard:!1,placeholder:"Select an option...",
taggable:!1,tagPlaceholder:"Enter a tag...",messages:{noResults:"No results.",noOptions:"No options available.",maxSelections:"A maximum of {max} items can be selected.",tagDuplicate:"That tag is already in use."}};if(!a)throw Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");this.el=a;"string"===typeof a&&(this.el=document.querySelector(a));if(null===this.el)throw Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw Error("The element you passed to Selectr is not a HTMLSelectElement.");
this.render(b)};g.prototype.render=function(a){if(!this.rendered){this.el.selectr=this;this.config=b.extend(this.defaultConfig,a);this.originalType=this.el.type;this.originalIndex=this.el.tabIndex;this.defaultSelected=[];this.originalOptionCount=this.el.options.length;if(this.config.multiple||this.config.taggable)this.el.multiple=!0;this.disabled=k(this.config,"disabled");this.opened=!1;this.config.taggable&&(this.config.searchable=!1);this.mobileDevice=this.navigating=!1;/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&
(this.mobileDevice=!0);this.customOption=this.config.hasOwnProperty("renderOption")&&"function"===typeof this.config.renderOption;this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"===typeof this.config.renderSelection;this.supportsEventPassiveOption=this.detectEventPassiveOption();l.mixin(this);u.call(this);this.bindEvents();this.update();this.optsRect=b.rect(this.tree);this.rendered=!0;this.el.multiple||(this.el.selectedIndex=this.selectedIndex);var c=this;setTimeout(function(){c.emit("selectr.init")},
20)}};g.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")};g.prototype.getSelectedProperties=function(a){var b=this.getSelected();return[].slice.call(b).map(function(b){return b[a]}).filter(function(a){return null!==a&&void 0!==a})};g.prototype.detectEventPassiveOption=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,b)}catch(e){}return a};g.prototype.bindEvents=function(){var a=this;this.events=
{};this.events.dismiss=t.bind(this);this.events.navigate=v.bind(this);this.events.reset=this.reset.bind(this);if(this.config.nativeDropdown||this.mobileDevice){this.container.addEventListener("touchstart",function(b){b.changedTouches[0].target===a.el&&a.toggle()},this.supportsEventPassiveOption?{passive:!0}:!1);this.container.addEventListener("click",function(b){b.target===a.el&&a.toggle()});var c=function(a,b){for(var d=[],c=a.slice(0),e,f=0;f<b.length;f++)e=c.indexOf(b[f]),-1<e?c.splice(e,1):d.push(b[f]);
return[d,c]};this.el.addEventListener("change",function(d){a.el.multiple?(d=a.getSelectedProperties("idx"),d=c(a.selectedIndexes,d),b.each(d[0],function(b,d){a.select(d)},a),b.each(d[1],function(b,d){a.deselect(d)},a)):-1<a.el.selectedIndex&&a.select(a.el.selectedIndex)})}this.container.addEventListener("keydown",function(b){"Escape"===b.key&&a.close();"Enter"===b.key&&a.selected===document.activeElement&&"undefined"!==typeof a.el.form.submit&&a.el.form.submit();" "!==b.key&&"ArrowUp"!==b.key&&"ArrowDown"!==
b.key||a.selected!==document.activeElement||(setTimeout(function(){a.toggle()},200),a.config.nativeDropdown&&setTimeout(function(){a.el.focus()},200))});this.selected.addEventListener("click",function(b){a.disabled||a.toggle();b.preventDefault()});if(this.config.nativeKeyboard){var e="";this.selected.addEventListener("keydown",function(b){if(!(a.disabled||a.selected!==document.activeElement||b.altKey||b.ctrlKey||b.metaKey))if(" "===b.key||!a.opened&&-1<["Enter","ArrowUp","ArrowDown"].indexOf(b.key))a.toggle(),
b.preventDefault(),b.stopPropagation();else if(2>=b.key.length&&String[String.fromCodePoint?"fromCodePoint":"fromCharCode"](b.key[String.codePointAt?"codePointAt":"charCodeAt"](0))===b.key){if(a.config.multiple)a.open(),a.config.searchable&&(a.input.value=b.key,a.input.focus(),a.search(null,!0));else{e+=b.key;var c=a.search(e,!0);c&&c.length&&(a.clear(),a.setValue(c[0].value));setTimeout(function(){e=""},1E3)}b.preventDefault();b.stopPropagation()}});this.container.addEventListener("keyup",function(b){a.opened&&
"Escape"===b.key&&(a.close(),b.stopPropagation(),a.selected.focus())})}this.label.addEventListener("click",function(c){b.hasClass(c.target,"selectr-tag-remove")&&a.deselect(c.target.parentNode.idx)});this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this));this.tree.addEventListener("mousedown",function(a){a.preventDefault()});this.tree.addEventListener("click",function(c){var d=b.closest(c.target,function(a){return a&&b.hasClass(a,"selectr-option")});d&&!b.hasClass(d,"disabled")&&
(b.hasClass(d,"selected")?(a.el.multiple||!a.el.multiple&&a.config.allowDeselect)&&a.deselect(d.idx):a.select(d.idx),a.opened&&!a.el.multiple&&a.close());c.preventDefault();c.stopPropagation()});this.tree.addEventListener("mouseover",function(c){b.hasClass(c.target,"selectr-option")&&!b.hasClass(c.target,"disabled")&&(b.removeClass(a.items[a.navIndex],"active"),b.addClass(c.target,"active"),a.navIndex=[].slice.call(a.items).indexOf(c.target))});this.config.searchable&&(this.input.addEventListener("focus",
function(b){a.searching=!0}),this.input.addEventListener("blur",function(b){a.searching=!1}),this.input.addEventListener("keyup",function(c){a.search();a.config.taggable||(this.value.length?b.addClass(this.parentNode,"active"):b.removeClass(this.parentNode,"active"))}),this.inputClear.addEventListener("click",function(b){a.input.value=null;q.call(a);a.tree.childElementCount||p.call(a)}));this.config.taggable&&this.input.addEventListener("keyup",function(c){a.search();if(a.config.taggable&&this.value.length){var d=
this.value.trim();if(13===c.which||b.includes(a.tagSeperators,c.key))b.each(a.tagSeperators,function(a,b){d=d.replace(b,"")}),a.add({value:d,text:d,selected:!0},!0)?(a.close(),q.call(a)):(this.value="",a.setMessage(a.config.messages.tagDuplicate))}});this.update=b.debounce(function(){a.opened&&a.config.closeOnScroll&&a.close();a.width&&(a.container.style.width=a.width);a.invert()},50);this.requiresPagination&&(this.paginateItems=b.debounce(function(){r.call(this)},50),this.tree.addEventListener("scroll",
this.paginateItems.bind(this)));document.addEventListener("click",this.events.dismiss);window.addEventListener("keydown",this.events.navigate);window.addEventListener("resize",this.update);window.addEventListener("scroll",this.update);this.on("selectr.destroy",function(){document.removeEventListener("click",this.events.dismiss);window.removeEventListener("keydown",this.events.navigate);window.removeEventListener("resize",this.update);window.removeEventListener("scroll",this.update)});this.el.form&&
(this.el.form.addEventListener("reset",this.events.reset),this.on("selectr.destroy",function(){this.el.form.removeEventListener("reset",this.events.reset)}))};g.prototype.setSelected=function(a){this.config.data||this.el.multiple||!this.el.options.length||(0!==this.el.selectedIndex||this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1),this.selectedIndex=this.el.selectedIndex,-1<this.selectedIndex&&this.select(this.selectedIndex));this.config.multiple&&"select-one"===
this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1);b.each(this.options,function(a,b){b.selected&&b.defaultSelected&&this.select(b.idx)},this);this.config.selectedValue&&this.setValue(this.config.selectedValue);if(this.config.data){!this.el.multiple&&this.config.defaultSelected&&0>this.el.selectedIndex&&this.select(0);var c=0;b.each(this.config.data,function(a,d){k(d,"children")?b.each(d.children,function(a,b){b.hasOwnProperty("selected")&&
!0===b.selected&&this.select(c);c++},this):(d.hasOwnProperty("selected")&&!0===d.selected&&this.select(c),c++)},this)}};g.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),b.removeClass(this.el,"selectr-hidden"),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1,delete this.el.selectr)};g.prototype.change=function(a){var c=this.items[a],e=this.options[a];
e.disabled||(e.selected&&b.hasClass(c,"selected")?this.deselect(a):this.select(a),this.opened&&!this.el.multiple&&this.close())};g.prototype.select=function(a){var c=this.items[a],e=[].slice.call(this.el.options),d=this.options[a];if(this.el.multiple){if(b.includes(this.selectedIndexes,a))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage(this.config.messages.maxSelections.replace("{max}",this.config.maxSelections),!0),!1;this.selectedValues.push(d.value);
this.selectedIndexes.push(a);w.call(this,c)}else{var f=this.data?this.data[a]:d;this.label.innerHTML=this.customSelected?this.config.renderSelection(f):d.textContent;this.selectedValue=d.value;this.selectedIndex=a;b.each(this.options,function(c,d){var e=this.items[c];c!==a&&(e&&b.removeClass(e,"selected"),d.selected=!1,d.removeAttribute("selected"))},this)}b.includes(e,d)||this.el.add(d);c.setAttribute("aria-selected",!0);b.addClass(c,"selected");b.addClass(this.container,"has-selected");d.selected=
!0;d.setAttribute("selected","");this.emit("selectr.change",d);this.emit("selectr.select",d);"createEvent"in document?(c=document.createEvent("HTMLEvents"),c.initEvent("change",!0,!0),this.el.dispatchEvent(c)):this.el.fireEvent("onchange")};g.prototype.deselect=function(a,c){var e=this.items[a],d=this.options[a];if(this.el.multiple){var f=this.selectedIndexes.indexOf(a);this.selectedIndexes.splice(f,1);f=this.selectedValues.indexOf(d.value);this.selectedValues.splice(f,1);x.call(this,e);this.tags.length||
b.removeClass(this.container,"has-selected")}else{if(!c&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="";this.selectedValue=null;this.el.selectedIndex=this.selectedIndex=-1;b.removeClass(this.container,"has-selected")}this.items[a].setAttribute("aria-selected",!1);b.removeClass(this.items[a],"selected");d.selected=!1;d.removeAttribute("selected");this.emit("selectr.change",null);this.emit("selectr.deselect",d);"createEvent"in document?(e=document.createEvent("HTMLEvents"),
e.initEvent("change",!0,!0),this.el.dispatchEvent(e)):this.el.fireEvent("onchange")};g.prototype.setValue=function(a){var c=Array.isArray(a);c||(a=a.toString().trim());if(!this.el.multiple&&c)return!1;b.each(this.options,function(b,d){(c&&-1<a.indexOf(d.value)||d.value===a)&&this.change(d.idx)},this)};g.prototype.getValue=function(a,c){if(this.el.multiple)if(a){if(this.selectedIndexes.length){var e={values:[]};b.each(this.selectedIndexes,function(a,b){var c=this.options[b];e.values[a]={value:c.value,
text:c.textContent}},this)}}else e=this.selectedValues.slice();else if(a){var d=this.options[this.selectedIndex];e={value:d.value,text:d.textContent}}else e=this.selectedValue;a&&c&&(e=JSON.stringify(e));return e};g.prototype.add=function(a,c){if(a){this.data=this.data||[];this.items=this.items||[];this.options=this.options||[];if(Array.isArray(a))b.each(a,function(a,b){this.add(b,c)},this);else if("[object Object]"===Object.prototype.toString.call(a)){if(c){var e=!1;b.each(this.options,function(b,
c){c.value.toLowerCase()===a.value.toLowerCase()&&(e=!0)});if(e)return!1}var d=b.createElement("option",a);this.data.push(a);this.options.push(d);d.idx=0<this.options.length?this.options.length-1:0;m.call(this,d);a.selected&&this.select(d.idx);this.setPlaceholder();return d}this.config.pagination&&this.paginate();return!0}};g.prototype.remove=function(a){var c=[];Array.isArray(a)?b.each(a,function(a,e){b.isInt(e)?c.push(this.getOptionByIndex(e)):"string"===typeof e&&c.push(this.getOptionByValue(e))},
this):b.isInt(a)?c.push(this.getOptionByIndex(a)):"string"===typeof a&&c.push(this.getOptionByValue(a));if(c.length){var e;b.each(c,function(a,c){e=c.idx;this.el.remove(c);this.options.splice(e,1);var d=this.items[e].parentNode;d&&d.removeChild(this.items[e]);this.items.splice(e,1);b.each(this.options,function(a,b){b.idx=a;this.items[a].idx=a},this)},this);this.setPlaceholder();this.config.pagination&&this.paginate()}};g.prototype.removeAll=function(){this.clear(!0);b.each(this.el.options,function(a,
b){this.el.remove(b)},this);b.truncate(this.tree);this.items=[];this.options=[];this.data=[];this.navIndex=0;this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]);this.setPlaceholder()};g.prototype.search=function(a,c){if(!this.navigating){var e=!1;a||(a=this.input.value,e=!0,this.removeMessage(),b.truncate(this.tree));var d=[],f=document.createDocumentFragment();a=a.trim().toLowerCase();if(0<a.length){var g=c?b.startsWith:b.includes;b.each(this.options,function(c,h){var k=
this.items[h.idx];if(g(h.textContent.trim().toLowerCase(),a)&&!h.disabled){if(d.push({text:h.textContent,value:h.value}),e&&(n(k,f,this.customOption),b.removeClass(k,"excluded"),!this.customOption)){var l=(l=(new RegExp(a,"i")).exec(h.textContent))?h.textContent.replace(l[0],"<span class='selectr-match'>"+l[0]+"</span>"):!1;k.innerHTML=l}}else e&&b.addClass(k,"excluded")},this);if(e){if(f.childElementCount){var k=this.items[this.navIndex],l=f.querySelector(".selectr-option:not(.excluded)");this.noResults=
!1;b.removeClass(k,"active");this.navIndex=l.idx;b.addClass(l,"active")}else this.config.taggable||(this.noResults=!0,this.setMessage(this.config.messages.noResults));this.tree.appendChild(f)}}else p.call(this);return d}};g.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())};g.prototype.open=function(){var a=this;if(!this.options.length)return!1;this.opened||this.emit("selectr.open");this.opened=!0;this.mobileDevice||this.config.nativeDropdown?(b.addClass(this.container,
"native-open"),this.config.data&&b.each(this.options,function(a,b){this.el.add(b)},this)):(b.addClass(this.container,"open"),p.call(this),this.invert(),this.tree.scrollTop=0,b.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),this.config.searchable&&!this.config.taggable&&setTimeout(function(){a.input.focus();a.input.tabIndex=0},10))};g.prototype.close=function(){this.opened&&this.emit("selectr.close");
this.navigating=this.opened=!1;if(this.mobileDevice||this.config.nativeDropdown)b.removeClass(this.container,"native-open");else{var a=b.hasClass(this.container,"notice");this.config.searchable&&!a&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1);a&&(b.removeClass(this.container,"notice"),this.notice.textContent="");b.removeClass(this.container,"open");b.removeClass(this.container,"native-open");this.selected.setAttribute("aria-expanded",!1);this.tree.setAttribute("aria-hidden",!0);this.tree.setAttribute("aria-expanded",
!1);b.truncate(this.tree);q.call(this);this.selected.focus()}};g.prototype.enable=function(){this.disabled=!1;this.el.disabled=!1;this.selected.tabIndex=this.originalIndex;this.el.multiple&&b.each(this.tags,function(a,b){b.lastElementChild.tabIndex=0});b.removeClass(this.container,"selectr-disabled")};g.prototype.disable=function(a){a||(this.el.disabled=!0);this.selected.tabIndex=-1;this.el.multiple&&b.each(this.tags,function(a,b){b.lastElementChild.tabIndex=-1});this.disabled=!0;b.addClass(this.container,
"selectr-disabled")};g.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),b.each(this.defaultSelected,function(a,b){this.select(b)},this),this.emit("selectr.reset"))};g.prototype.clear=function(a){this.el.multiple?this.selectedIndexes.length&&(a=this.selectedIndexes.slice(),b.each(a,function(a,b){this.deselect(b)},this)):-1<this.selectedIndex&&this.deselect(this.selectedIndex,a);this.emit("selectr.clear")};g.prototype.serialise=function(a){var c=[];b.each(this.options,function(a,
b){var d={value:b.value,text:b.textContent};b.selected&&(d.selected=!0);b.disabled&&(d.disabled=!0);c[a]=d});return a?JSON.stringify(c):c};g.prototype.serialize=function(a){return this.serialise(a)};g.prototype.setPlaceholder=function(a){a=a||this.config.placeholder||this.el.getAttribute("placeholder");this.options.length||(a=this.config.messages.noOptions);this.placeEl.innerHTML=a};g.prototype.paginate=function(){if(this.items.length){var a=this;return this.pages=this.items.map(function(b,e){return 0===
e%a.config.pagination?a.items.slice(e,e+a.config.pagination):null}).filter(function(a){return a})}};g.prototype.setMessage=function(a,c){c&&this.close();b.addClass(this.container,"notice");this.notice.textContent=a};g.prototype.removeMessage=function(){b.removeClass(this.container,"notice");this.notice.innerHTML=""};g.prototype.invert=function(){var a=b.rect(this.selected);a.top+a.height+this.tree.parentNode.offsetHeight>window.innerHeight?(b.addClass(this.container,"inverted"),this.isInverted=!0):
(b.removeClass(this.container,"inverted"),this.isInverted=!1);this.optsRect=b.rect(this.tree)};g.prototype.getOptionByIndex=function(a){return this.options[a]};g.prototype.getOptionByValue=function(a){for(var b=!1,e=0,d=this.options.length;e<d;e++)if(this.options[e].value.trim()===a.toString().trim()){b=this.options[e];break}return b};return g});

class eselect{
	constructor(element,option=""){
		document.querySelectorAll(element).forEach(function(se){
		se.classList.add('default');
			new Selectr(se,option);				
		})
	}
}


/* Lazy Load */
/* https://github.com/tuupola/lazyload */
!function(t,e){"object"==typeof exports?module.exports=e(t):"function"==typeof define&&define.amd?define([],e):t.LazyLoad=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";function e(t,e){this.settings=s(r,e||{}),this.images=t||document.querySelectorAll(this.settings.selector),this.observer=null,this.init()}"function"==typeof define&&define.amd&&(t=window);const r={src:"data-src",srcset:"data-srcset",selector:".lazyload",root:null,rootMargin:"0px",threshold:0},s=function(){let t={},e=!1,r=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],r++);for(;r<o;r++)!function(r){for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e&&"[object Object]"===Object.prototype.toString.call(r[o])?t[o]=s(!0,t[o],r[o]):t[o]=r[o])}(arguments[r]);return t};if(e.prototype={init:function(){if(!t.IntersectionObserver)return void this.loadImages();let e=this,r={root:this.settings.root,rootMargin:this.settings.rootMargin,threshold:[this.settings.threshold]};this.observer=new IntersectionObserver(function(t){Array.prototype.forEach.call(t,function(t){if(t.isIntersecting){e.observer.unobserve(t.target);let r=t.target.getAttribute(e.settings.src),s=t.target.getAttribute(e.settings.srcset);"img"===t.target.tagName.toLowerCase()?(r&&(t.target.src=r),s&&(t.target.srcset=s)):t.target.style.backgroundImage="url("+r+")"}})},r),Array.prototype.forEach.call(this.images,function(t){e.observer.observe(t)})},loadAndDestroy:function(){this.settings&&(this.loadImages(),this.destroy())},loadImages:function(){if(!this.settings)return;let t=this;Array.prototype.forEach.call(this.images,function(e){let r=e.getAttribute(t.settings.src),s=e.getAttribute(t.settings.srcset);"img"===e.tagName.toLowerCase()?(r&&(e.src=r),s&&(e.srcset=s)):e.style.backgroundImage="url('"+r+"')"})},destroy:function(){this.settings&&(this.observer.disconnect(),this.settings=null)}},t.lazyload=function(t,r){return new e(t,r)},t.jQuery){const r=t.jQuery;r.fn.lazyload=function(t){return t=t||{},t.attribute=t.attribute||"data-src",new e(r.makeArray(this),t),this}}return e});
let lazyimages = document.querySelectorAll('img.lazyimg');
if(lazyimages.length > 0){
	new LazyLoad(lazyimages);	
}


// Alink
var alinks = document.querySelectorAll("alink");

alinks.forEach((alink) => {
  alink.addEventListener("click", function (e) {
    let href = this.getAttribute("href");
    let prompt = this.getAttribute("prompt");
    let aembed = this.getAttribute("embed");

    if (href) {
      // fetch href
      eget(href, "html", function (data) {
        if (prompt) {
          // prompt
          Swal.fire(data);
          // Swal.fire({
          //   title: data,
          //   timer: 5000,
          //   timerProgressBar: true
          // });
        }
        if (aembed) {
          // embed data
          let emcontainer = document.querySelector(aembed);
          // console.log(emcontainer);
          if (emcontainer) {
            emcontainer.innerHTML = data;
          }
        }
      });
    } else {
      // href is empty
    }
  });
});
/////////